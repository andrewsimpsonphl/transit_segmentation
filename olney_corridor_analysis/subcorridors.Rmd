---
title: "subcorridors"
author: "Andrew Simpson"
date: "12/14/2021"
output: html_document
params:
  subcorridor_results_line
---

```{r , include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
```
### `r subcorridor_results_line$corridor_name` Analytics 

Interpretation 

#### Subcorridor Daily Analytics
```{r echo=FALSE}

table_1 <- subcorridor_results_line$route_analytics[[1]] %>% 
  bind_rows(subcorridor_results_line$analytics[[1]] %>% mutate(route_id = "Total"))
  
kable(table_1, booktabs = TRUE, align = 'c',format.args = list(big.mark = ","),digits=1) %>%
 kable_styling(latex_options = "scale_down")  %>%
 row_spec(dim(table_1)[1], bold = T) %>% # format last row
 column_spec(1, italic = T) %>%  # format first column
 scroll_box(width = "100%")
```

#### Weekday Ridership

```{r , echo=FALSE, out.width='100%', fig.height = 5, warning=FALSE}
subcorridor_results_line$ridership_by_period_plot[[1]]
subcorridor_results_line$ridership_by_route_plot[[1]]
subcorridor_results_line$ridership_by_route_dir_plot[[1]]

```

#### Speed and Reliability


##### Speed

```{r , echo=FALSE, out.width='100%', fig.height = 5, warning=FALSE}

subcorridor_results_line$hourly_speed_plot[[1]]
subcorridor_results_line$speed_by_period_plot[[1]]
subcorridor_results_line$speed_by_route_dir_plot[[1]]

```

##### Reliability

```{r , echo=FALSE, out.width='100%', fig.height = 5, warning=FALSE}

# for loop to print all of the plots, but still need to figure out how to instead put these into the results df
for(l in dirs){
  d<-l[[1]]
  for(i in routes){
    r<-i[[1]]
    plot_joyplot_runtimes(subcorridors_results_line, route_num = r, direction = d, pattern_list = primary_patterns[[1]])
  }
}


```



#### End-to-End Travel Time

```{r , echo=FALSE, out.width='100%', fig.height = 5, warning=FALSE}

subcorridor_results_line$running_time_dir_plot[[1]]

```